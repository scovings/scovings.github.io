<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dart Score Counter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #111827;
            color: white;
            text-align: center;
        }

        #board {
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(
                    circle,
                    #16a34a 0%,
                    #16a34a 5%,
                    #000 5%,
                    #000 10%,
                    #dc2626 10%,
                    #dc2626 15%,
                    #000 15%,
                    #000 50%,
                    #6b7280 50%,
                    #6b7280 100%
            );
            margin: 20px auto;
            position: relative;
            cursor: crosshair;
        }

        .scores {
            max-width: 400px;
            margin: auto;
        }

        .player {
            padding: 10px;
            margin: 5px;
            border-radius: 6px;
            background: #1f2933;
        }

        .active {
            border: 2px solid #22c55e;
        }

        button {
            margin-top: 10px;
            padding: 8px 16px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>ðŸŽ¯ Dart Score Counter</h1>
<p>Click where the dart landed</p>

<div id="board"></div>

<div class="scores">
    <div id="p0" class="player active">Player 1: <span>501</span></div>
    <div id="p1" class="player">Player 2: <span>501</span></div>
    <div id="p2" class="player">Player 3: <span>501</span></div>
</div>

<button onclick="resetGame()">Reset Game</button>

<script>
    const board = document.getElementById("board");

    let scores = [501, 501, 501];
    let currentPlayer = 0;
    let dartsThrown = 0;

    const numbers = [20,1,18,4,13,6,10,15,2,17,3,19,7,16,8,11,14,9,12,5];

    board.addEventListener("click", (e) => {
        const rect = board.getBoundingClientRect();
        const x = e.clientX - rect.left - 150;
        const y = e.clientY - rect.top - 150;
        const dist = Math.sqrt(x*x + y*y);

        let score = 0;

        if (dist < 15) score = 50;           // bullseye
        else if (dist < 30) score = 25;      // outer bull
        else if (dist < 45) score = 0;       // miss inner
        else if (dist < 75) score = ringScore(x,y) * 3; // triple
        else if (dist < 135) score = ringScore(x,y);
        else if (dist < 150) score = ringScore(x,y) * 2;
        else score = 0;

        scores[currentPlayer] -= score;
        updateUI();

        dartsThrown++;
        if (dartsThrown === 3) nextPlayer();
    });

    function ringScore(x, y) {
        let angle = Math.atan2(y, x) * 180 / Math.PI + 180;
        let index = Math.floor(angle / 18);
        return numbers[index];
    }

    function nextPlayer() {
        dartsThrown = 0;
        currentPlayer = (currentPlayer + 1) % 3;
        updateUI();
    }

    function updateUI() {
        for (let i = 0; i < 3; i++) {
            document.querySelector(`#p${i} span`).textContent = scores[i];
            document.getElementById(`p${i}`).classList.toggle("active", i === currentPlayer);
        }
    }

    function resetGame() {
        scores = [501, 501, 501];
        currentPlayer = 0;
        dartsThrown = 0;
        updateUI();
    }
</script>

</body>
</html>
